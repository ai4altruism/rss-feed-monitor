# 📰 RSS Feed Monitor

RSS Feed Monitor is an AI-powered news aggregator that fetches, filters, groups, and summarizes articles from various RSS feeds. It leverages OpenAI's GPT models to curate relevant news topics and provide concise summaries, including hyperlinks to the original articles.

## 🚀 Features

- **Fetches** news articles from multiple RSS feeds
- **Filters** articles based on a user-defined prompt using OpenAI's API
- **Groups** similar articles into meaningful topics
- **Generates concise summaries** for each topic
- **Includes hyperlinks** to the original sources
- **Logs errors and raw responses** for debugging

## 📜 Installation

### 1. Clone the Repository
```bash
git clone https://github.com/yourusername/rss-feed-monitor.git
cd rss-feed-monitor
```

### 2. Create a Virtual Environment
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

### 4. Configure Environment Variables
Create a `.env` file in the project root and add the following:

```ini
# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# RSS feed URLs (comma-separated or multi-line)
RSS_FEEDS=https://feeds.npr.org/1001/rss.xml
https://feeds.bbci.co.uk/news/rss.xml

# LLM Model Settings
FILTER_MODEL=gpt-4-turbo
GROUP_MODEL=gpt-4-turbo
SUMMARIZE_MODEL=gpt-4-turbo

# Filtering prompt (modify as needed)
FILTER_PROMPT=Only include articles related to AI and technology.
```

## ▶ Usage
### Run the Application
```bash
python src/main.py
```

### Example Console Output
```
2025-03-01 11:35:28,633 - RSSFeedMonitor - INFO - Fetching RSS feeds...
2025-03-01 11:35:28,723 - RSSFeedMonitor - INFO - Fetched 44 articles.
2025-03-01 11:35:28,723 - RSSFeedMonitor - INFO - Filtering articles using LLM...
2025-03-01 11:35:44,442 - RSSFeedMonitor - INFO - 10 articles remain after filtering.
2025-03-01 11:35:44,442 - RSSFeedMonitor - INFO - Grouping and summarizing articles...
2025-03-01 11:35:50,645 - RSSFeedMonitor - INFO - Summary generated:
{
    "topics": [
        {
            "topic": "AI and Technology",
            "summary": "Recent advancements in AI have led to breakthroughs in autonomous systems...",
            "articles": [
                {"title": "AI Breakthrough in Robotics", "link": "https://example.com/article1"},
                {"title": "New AI Ethics Debate Emerges", "link": "https://example.com/article2"}
            ]
        }
    ]
}
```

## 📁 Project Structure
```
📂 rss-feed-monitor
│── 📂 src
│   ├── 📜 main.py           # Entry point for the application
│   ├── 📜 rss_reader.py     # Fetches RSS feed articles
│   ├── 📜 llm_filter.py     # Filters articles using OpenAI
│   ├── 📜 summarizer.py     # Groups and summarizes articles
│   ├── 📜 utils.py          # Logging and utility functions
│── 📜 .env                  # Environment variables (ignored in Git)
│── 📜 requirements.txt      # Python dependencies
│── 📜 README.md             # Project documentation
│── 📂 logs                  # Logs generated by the application
│── 📂 data                  # Cached RSS feed data
```

## ⚙ Configuration
### Modifying the Filter Criteria
Edit `FILTER_PROMPT` in `.env` to change the filtering behavior. Example:
```ini
FILTER_PROMPT=Include only AI-related and technology news.
```

### Changing OpenAI Models
You can switch models in `.env`:
```ini
FILTER_MODEL=gpt-4
GROUP_MODEL=gpt-4
SUMMARIZE_MODEL=gpt-4
```

### Adding More RSS Feeds
You can add additional RSS feeds in `.env` using **comma-separated values**:
```ini
RSS_FEEDS=https://example.com/rss1.xml,https://example.com/rss2.xml
```
Or **multi-line format**:
```ini
RSS_FEEDS=https://example.com/rss1.xml
https://example.com/rss2.xml
```

## 🛠 Troubleshooting
### 1. OpenAI API Errors
- **Error:** `"You tried to access openai.ChatCompletion, but this is no longer supported."`
  - **Fix:** Ensure `openai` is up-to-date:  
    ```bash
    pip install --upgrade openai
    ```

- **Error:** `"LLM processing error: Expecting value: line 1 column 1"`
  - **Fix:** Check logs for **malformed JSON responses** from OpenAI.
  - **Run the application again** and check logs:
    ```bash
    cat logs/app.log
    ```

### 2. RSS Feed Not Fetching Articles
- Ensure the RSS feed URLs are correct and accessible.
- Check logs for warnings like:
  ```
  WARNING:root:Received status code 404 for https://example.com/rss.xml
  ```
  If encountered, the feed URL may be incorrect or temporarily unavailable.

## 📜 License
This project is licensed under the GNU General Public License v3.0. Copyright (c) 2025.

## 🎯 Contributing
Pull requests are welcome! If you'd like to contribute:
1. **Fork** the repository.
2. Create a **feature branch** (`git checkout -b feature-name`).
3. Commit your changes (`git commit -m "Added feature X"`).
4. Push to your fork (`git push origin feature-name`).
5. Open a **Pull Request**.

## 🙌 Acknowledgments
Special thanks to:
- OpenAI for powering the filtering, grouping, and summarization.
- Feedparser for handling RSS feed parsing.

## 📩 Contact
For issues or questions, open a GitHub issue or contact us at:
📧 **team@ai4altruism.org**